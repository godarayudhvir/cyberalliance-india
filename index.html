<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Alliance India | macOS</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <style>
        :root {
            --bg-wallpaper: url('https://static1.squarespace.com/static/5e949a92e17d55230cd1d44f/t/68979a76bf6f40659f68f188/1754765942723/TahoeDay.png');
            --blur: blur(30px);
        }

        body, html {
            margin: 0; padding: 0; height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            overflow: hidden;
            background: var(--bg-wallpaper) center/cover no-repeat;
        }

        /* --- Menu Bar --- */
        .menu-bar {
            height: 30px; background: rgba(255, 255, 255, 0.2); backdrop-filter: var(--blur);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 15px; font-size: 13px; color: white; z-index: 10000; position: relative;
        }
        .ticker-container { flex: 1; overflow: hidden; white-space: nowrap; margin: 0 60px; }
        .ticker-text { display: inline-block; animation: ticker 25s linear infinite; font-weight: 500; }
        @keyframes ticker { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* --- Desktop Grid --- */
        .desktop-area {
            position: absolute; top: 60px; left: 20px;
            display: grid; grid-template-columns: repeat(2, 100px); grid-auto-rows: 110px; gap: 15px; z-index: 1;
        }
        .desktop-icon { display: flex; flex-direction: column; align-items: center; cursor: pointer; text-align: center; color: white; text-decoration: none; }
        .desktop-icon img { width: 64px; height: 64px; margin-bottom: 5px; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3)); transition: transform 0.2s; }
        .desktop-icon:hover img { transform: scale(1.05); }
        .desktop-icon span { font-size: 11px; font-weight: 500; background: rgba(0,0,0,0.4); padding: 2px 8px; border-radius: 5px; white-space: nowrap; }

        /* --- Weather Widget --- */
        .weather-widget {
            position: fixed; top: 50px; right: 20px;
            width: 160px; height: 160px; background: rgba(255, 255, 255, 0.15);
            backdrop-filter: var(--blur); border-radius: 28px; border: 1px solid rgba(255,255,255,0.2);
            display: flex; flex-direction: column; align-items: center; justify-content: center; color: white;
        }

        /* --- Centered Window System --- */
        .window {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 700px; height: 450px; background: rgba(255, 255, 255, 0.98);
            backdrop-filter: var(--blur); border-radius: 12px; display: none;
            flex-direction: column; box-shadow: 0 40px 80px rgba(0,0,0,0.4); z-index: 500; overflow: hidden;
        }
        .window-header { padding: 12px; display: flex; align-items: center; background: rgba(0,0,0,0.03); border-radius: 12px 12px 0 0; }
        .dot { width: 12px; height: 12px; border-radius: 50%; border: none; cursor: pointer; background: #ff5f56; margin-right: 10px; }
        .window-title { flex: 1; text-align: center; font-size: 13px; font-weight: 700; color: #333; margin-right: 22px; }
        
        /* --- Form Inside Window --- */
        .form-content { padding: 30px; display: flex; flex-direction: column; gap: 12px; }
        .form-content input, .form-content textarea { padding: 12px; border-radius: 10px; border: 1px solid #ddd; font-family: inherit; }
        .submit-btn { background: #007aff; color: white; border: none; padding: 12px; border-radius: 10px; font-weight: 600; cursor: pointer; }

        /* --- Pages Icon --- */
        .pages-trigger {
            position: fixed; bottom: 30px; right: 30px;
            width: 75px; height: 75px; cursor: pointer; z-index: 9999;
            animation: pulse-attention 4s infinite ease-in-out;
        }
        @keyframes pulse-attention { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1) rotate(5deg); } }

        /* --- Dock --- */
        .dock-container { position: fixed; bottom: 15px; width: 100%; display: flex; justify-content: center; z-index: 2000; pointer-events: none; }
        .dock { background: rgba(255, 255, 255, 0.2); backdrop-filter: var(--blur); padding: 10px 20px; border-radius: 24px; display: flex; gap: 15px; pointer-events: auto; }
        .dock-item { width: 55px; height: 55px; transition: 0.2s; }
        .dock-item:hover { transform: scale(1.4) translateY(-15px); }
        .dock-item img { width: 100%; height: 100%; border-radius: 13px; }
    </style>
</head>
<body>

<nav class="menu-bar">
    <div style="font-weight: bold;">ï£¿ Cyber Alliance India</div>
    <div class="ticker-container">
        <div class="ticker-text">ðŸŽ‰ NEW YEAR OFFER: 25% OFF ALL SERVICES! â€¢ BUILDING THE FUTURE OF WEB3 & AI â€¢ CLICK THE PAGES ICON TO START âžœ</div>
    </div>
    <div id="clock" style="width: 120px; text-align: right;">Mon 9:41 AM</div>
</nav>

<div class="weather-widget">
    <i id="w-icon" class="bi bi-cloud-sun-fill" style="font-size: 2.5rem; color: #fbc531;"></i>
    <div id="w-temp" style="font-size: 26px; font-weight: 800; margin-top: 5px;">--Â°C</div>
    <div style="font-size: 11px; opacity: 0.8; letter-spacing: 1px;">DWARKA, DELHI</div>
</div>

<div class="desktop-area">
    <a href="https://cyberalliance.in/links/pricing" target="_blank" class="desktop-icon"><img src="https://upload.wikimedia.org/wikipedia/en/e/e9/NumbersIcon.png"><span>Pricing</span></a>
    <div class="desktop-icon" onclick="window.location.href='oldindex.html'"><img src="https://www.apple.com/v/apps/e/images/overview/apps/tier2/time_machine_chiclet__gdptjev6b6qa_large_2x.png"><span>Legacy Site</span></div>
    <div class="desktop-icon" onclick="window.open('https://chess.com')"><img src="https://www.apple.com/v/apps/e/images/overview/apps/tier2/chess_chiclet__c2xewin5b5iu_large_2x.png"><span>Chess</span></div>
    <div class="desktop-icon" onclick="openWindow('maps-win')"><img src="https://www.apple.com/v/apps/e/images/overview/apps/tier1/chiclets/maps_chiclet__b825c0yhl64i_xlarge_2x.png"><span>Maps</span></div>
    <div class="desktop-icon" onclick="openWindow('video-win')"><img src="https://www.apple.com/v/apps/e/images/overview/apps/tier1/chiclets/keynote_chiclet__e72jki8iaqq2_xlarge_2x.png"><span>Our Story</span></div>
    <div class="desktop-icon" onclick="window.open('https://excalidraw.com')"><img src="https://www.apple.com/v/apps/e/images/overview/apps/tier1/chiclets/freeform_chiclet__fe7ls815d066_xlarge_2x.png"><span>Excalidraw</span></div>
    <div class="desktop-icon" onclick="window.location.href='mailto:team@cyberalliance.in?cc=cyberallianceindia@gmail.com'"><img src="https://www.apple.com/v/apps/e/images/overview/apps/tier1/chiclets/mail_chiclet__s40xvfy4twyu_xlarge_2x.png"><span>Mail Us</span></div>
</div>

<div id="video-win" class="window">
    <div class="window-header"><button class="dot" onclick="closeWindow('video-win')"></button><div class="window-title">Our Story - Linode</div></div>
    <div style="flex:1; background: #000;">
        <iframe id="story-iframe" width="100%" height="100%" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
</div>

<div id="web3-win" class="window" style="height:auto; width:450px;">
    <div class="window-header"><button class="dot" onclick="closeWindow('web3-win')"></button><div class="window-title">Project Inquiry</div></div>
    <form action="https://api.web3forms.com/submit" method="POST" class="form-content">
        <input type="hidden" name="access_key" value="be5918a4-e944-4bb9-b273-b7ad3303b06d">
        <input type="text" name="name" placeholder="Name / Organization" required>
        <input type="email" name="email" placeholder="Email" required>
        <textarea name="message" placeholder="Project details (Tech stack, timeline, etc.)" rows="4" required></textarea>
        <input type="text" id="f-ref" name="referral_code" placeholder="Referral Code">
        <button type="submit" class="submit-btn">Submit Details</button>
    </form>
</div>

<img src="https://upload.wikimedia.org/wikipedia/en/f/f2/Pages_12.1_macOS_app_icon.png" class="pages-trigger" onclick="openWindow('web3-win')">

<div class="dock-container">
    <div class="dock">
        <a href="https://calendar.app.google/Bahse3hHt1jFi7ck9" target="_blank" class="dock-item"><img src="https://www.apple.com/v/apps/e/images/overview/apps/tier1/chiclets/facetime_chiclet__dkfd0tacahua_xlarge_2x.png"></a>
        <a href="https://wa.me/918851573195" target="_blank" class="dock-item"><img src="https://www.apple.com/v/apps/e/images/overview/apps/tier1/chiclets/messages_chiclet__f8bzind6fdqy_xlarge_2x.png"></a>
        <a href="tel:918851573195" class="dock-item"><img src="https://www.apple.com/v/apps/e/images/overview/apps/tier1/chiclets/phone_chiclet__f1brppw3aqy6_xlarge_2x.png"></a>
    </div>
</div>

<script>
    const linodeUrl = "https://www.youtube.com/embed/gMgWyyIOXAo?autoplay=1";

    function openWindow(id) { 
        const win = document.getElementById(id);
        win.style.display = 'flex'; 
        if(id === 'video-win') {
            document.getElementById('story-iframe').src = linodeUrl;
        }
    }

    function closeWindow(id) { 
        const win = document.getElementById(id);
        win.style.display = 'none'; 
        if(id === 'video-win') {
            document.getElementById('story-iframe').src = ""; // Stops video playback
        }
    }

    async function fetchWeather() {
        try {
            const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=28.58&longitude=77.05&current_weather=true');
            const data = await res.json();
            const temp = Math.round(data.current_weather.temperature);
            document.getElementById('w-temp').innerText = temp + 'Â°C';
            
            const code = data.current_weather.weathercode;
            const icon = document.getElementById('w-icon');
            if(code === 0) icon.className = "bi bi-sun-fill";
            else if(code < 50) icon.className = "bi bi-cloud-sun-fill";
            else icon.className = "bi bi-cloud-rain-fill";
        } catch (e) { document.getElementById('w-temp').innerText = '11Â°C'; }
    }

    function handleReferral() {
        const urlParams = new URLSearchParams(window.location.search);
        let ref = urlParams.get('ref') || localStorage.getItem('ca_referral');
        const refField = document.getElementById('f-ref');
        
        if (ref) {
            localStorage.setItem('ca_referral', ref);
            refField.value = ref;
            refField.style.display = 'none';
        }
    }

    window.onload = () => { fetchWeather(); handleReferral(); };
    setInterval(fetchWeather, 600000);

    setInterval(() => {
        document.getElementById('clock').innerText = new Date().toLocaleString('en-US', { weekday: 'short', hour: '2-digit', minute: '2-digit' });
    }, 1000);
</script>
</body>
</html>